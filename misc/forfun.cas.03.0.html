<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="keywords" content="CAS,Single-Sign On,SSO" />
    <script type="text/javascript" src="../js/jquery-1.3.2.min.js" ></script>
    <script type="text/javascript" src="../js/shCore.js" ></script>
    <script type="text/javascript" src="../js/shLegacy.js"></script>
    <script type="text/javascript" src="../js/shBrushXml.js" ></script>
    <link href="../css/shCore.css" type="text/css" rel="stylesheet" />
    <link href="../css/shThemeDefault.css" type="text/css" rel="stylesheet" />
    <link type="text/css" href="../css/style.css" rel="stylesheet"/>
    <title>JA-SIG CAS Single-Sign On - 3-0</title>
</head>
<body>
    <div>
        <h1 class="header">JA-SIG CAS Single-Sign On - 3-0</h1>
    </div>
    <div class="articlecontent">
        <h2>Preface</h2>
        <p>
        因為從subversion拉程式下來的時候，忘記要從tags裡面拉專案要用的版本的cas server。所以在build的時候遇到很多問題，花了很多時間做了很多手腳才build出一些jar的時候才發現版本不對...笨。
        </p>
        <h2>Environment</h2>
        <div>
            <ul>
                <li>Ubuntu 10.04</li>
                <li>Sun JDK 6</li>
                <li>Apache Maven 2.2.1</li>
                <li>Apache Tomcat 6</li>
                <li>JA-SIG CAS 3.4.2.1</li>
                <li>Open DS 2.2.0</li>
            </ul>
        </div>
        <h2>Preparation</h2>
        <div>
        <ol>
            <li>從SVN(https://source.jasig.org/cas3)上，到tags裡面找到你要的那個版本的tag，把CAS所有project source codes都拉拉下來。</li>
            <li>(Option)把要用的project從local export出來。(我是全部都export出去，說好聽是以備不時之需，說難聽就是懶啦)</li>
            <li>mvn clean package給他去</li>
        </ol>
        </div>
        <h2>確定這樣的作法可以做出自己要的cas.war</h2>
        <div>
        因為又懶又笨，所以目的就是把設定檔和pom.xml改成phase 3要得樣子，再來測試看看功能是否正常。
        </div>
        <div>
            <ol>
                <li>cas-server-webapp的pom.xml加上cas-server-support-ldap dependency</li>
                <li>修改deployerConfigContext.xml，加上ldap authentication和ldap context source</li>
            </ol>
        </div>
        <h3>Listing. cas-server-webapp pom.xml add dependency</h3>
        <pre name="code" class="xml:controls:firstline[1]">
        <dependency>
            <groupId>org.jasig.cas</groupId>
            <artifactId>cas-server-support-ldap</artifactId>
            <version>${project.version}</version>
        </dependency>
        </pre>
        <div>
        把包好的cas.war deploy上去tomcat就可以搭配之前的SimpleWeb系列，大概測試這樣做出來的cas.war功能是否正常。
        </div>
        <h2>Reference</h2>
        <div>
            <ul>
                <li>JA-SIG CAS User Manual</li>
            </ul>
        </div>
    </div>
    <div>
    <a rel="license" href="http://creativecommons.org/licenses/by/2.5/tw/"><img alt="Creative Commons License" src="http://i.creativecommons.org/l/by/3.0/88x31.png" border="0"></a>
    本著作係採用<a rel="license" href="http://creativecommons.org/licenses/by/2.5/tw/">創用 CC 「姓名標示 2.5 台灣版」授權條款</a>釋出。
    <span class="home" style="display:none;"><a href="../index.html">Home</a></span>
    </div>
    <address>
    Terence Chao, 2010/08/25
    </address>
    <script type="text/javascript">
    window.onload = function () {
        dp.SyntaxHighlighter.HighlightAll('code');
        $( 'table tr:even' ).css( 'background-color', '#E5EECC' );
    };
    </script>
</body>
</html>
